<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Library Management System</title>

    <!-- Font & Icons -->
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
          integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>

    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="dark-body">
<div class="app-layout">

    <!-- Sidebar -->
    <aside class="sidebar">
    <div class="sidebar-header">
        <i class="fa-solid fa-book-open-reader"></i>
        <span>Library LMS</span>
    </div>

    <nav class="sidebar-nav">
        <a href="{{ url_for('index') }}"
           class="nav-item {% if request.endpoint == 'index' %}active{% endif %}">
            <i class="fa-solid fa-house"></i>
            <span>Dashboard</span>
        </a>

        <a href="{{ url_for('books') }}"
           class="nav-item {% if request.endpoint in ['books', 'add_book', 'edit_book'] %}active{% endif %}">
            <i class="fa-solid fa-book"></i>
            <span>Books</span>
        </a>

        <a href="{{ url_for('members') }}"
           class="nav-item {% if request.endpoint in ['members', 'add_member'] %}active{% endif %}">
            <i class="fa-solid fa-user-group"></i>
            <span>Members</span>
        </a>

        <a href="{{ url_for('issue_book') }}"
           class="nav-item {% if request.endpoint == 'issue_book' %}active{% endif %}">
            <i class="fa-solid fa-arrow-up-from-bracket"></i>
            <span>Issue Book</span>
        </a>

        <a href="{{ url_for('issued_books') }}"
           class="nav-item {% if request.endpoint == 'issued_books' %}active{% endif %}">
            <i class="fa-solid fa-clock-rotate-left"></i>
            <span>Issued / Return</span>
        </a>
    </nav>

    <div class="sidebar-footer">
        <span>&copy; 2025 Library Management System</span>
    </div>
</aside>


    <!-- Main Content -->
    <main class="main-content">
        <header class="topbar">
            <div class="topbar-title">
                <h1>Library Management</h1>
                <p class="topbar-subtitle">Minimal dark UI</p>
                

            </div>
            <button id="themeToggle" class="theme-btn">
    <i class="fa-solid fa-moon"></i>
</button>

        </header>

        <section class="content">

            {% with messages = get_flashed_messages(with_categories=true) %}
              {% if messages %}
                <div class="flash-wrapper">
                  {% for category, message in messages %}
                    <div class="flash flash-{{ category }}">
                        <span>{{ message }}</span>
                    </div>
                  {% endfor %}
                </div>
              {% endif %}
            {% endwith %}

            {% block content %}{% endblock %}
        </section>

        <!-- Footer-like fixed bottom bar (like chat input area) -->
            
    </main>
</div>
<script>
    const body = document.documentElement;
    const toggleBtn = document.getElementById("themeToggle");

    // Load saved theme
    if (localStorage.getItem("theme") === "light") {
        body.classList.add("light-theme");
        toggleBtn.innerHTML = `<i class="fa-solid fa-sun"></i>`;
    }

    toggleBtn.addEventListener("click", () => {
        body.classList.toggle("light-theme");

        if (body.classList.contains("light-theme")) {
            localStorage.setItem("theme", "light");
            toggleBtn.innerHTML = `<i class="fa-solid fa-sun"></i>`;
        } else {
            localStorage.setItem("theme", "dark");
            toggleBtn.innerHTML = `<i class="fa-solid fa-moon"></i>`;
        }
    });
</script>

</body>
</html>
